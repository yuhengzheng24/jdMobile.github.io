function JDSwiper(t){return this.options=t||{},this.container=document.querySelector(t.ele),this.container?(this.timer=null,this.loop=1,this.wrapper=this.container.children[0],this.pagesWrapper=this.container.children[1],this.options.points=!1!==this.options.points,!this.wrapper||!this.pagesWrapper&&this.options.points?(console.error("结构必须写好"),this):(this.imgs=this.wrapper.children,this.oImgsLength=this.imgs.length,0===this.oImgsLength?(console.error("请传图片"),this):(this.options.points&&(this.num=0,this.pages=this.pagesWrapper.children,this.startX=0,this.endX=0,this.startTime=0,this.endTime=0),void this.init()))):(console.error("请必须传对象,而且ele必须存在"),this)}JDSwiper.prototype.init=function(){this.initImgs(),this.options.points&&(this.initPoints(),this.touch()),this.autoplay()},JDSwiper.prototype.initImgs=function(){var t=this.imgs[0].cloneNode(!0),i=this.imgs[this.oImgsLength-1].cloneNode(!0);this.wrapper.appendChild(t),this.wrapper.insertBefore(i,this.imgs[0])},JDSwiper.prototype.initPoints=function(){for(var t=0;t<this.oImgsLength;t++){var i=document.createElement("span");0==t&&(i.className="active"),this.pagesWrapper.appendChild(i)}},JDSwiper.prototype.autoplay=function(){clearInterval(this.timer);var t=this;this.timer=setInterval(function(){t.options.points&&(t.num++,t.pagesPoint()),t.loop++,t.swiperWrapper()},2e3)},JDSwiper.prototype.pagesPoint=function(){this.num>this.oImgsLength-1&&(this.num=0),this.num<0&&(this.num=this.oImgsLength-1);for(var t=0;t<this.pages.length;t++)this.pages[t].className="";this.pages[this.num].className="active"},JDSwiper.prototype.play=function(t){this.wrapper.style.transition=t?"transform 0.5s":"",this.options.direction&&"Y"===this.options.direction?this.wrapper.style.transform="translate3d(0,"+100*-this.loop+"%,0)":this.wrapper.style.transform="translate3d("+100*-this.loop+"%,0,0)"},JDSwiper.prototype.animateEnd=function(){var t=this;this.wrapper.addEventListener("transitionend",function(){t.loop>t.oImgsLength&&(t.loop=1,t.play()),t.loop<1&&(t.loop=t.oImgsLength,t.play())},!1)},JDSwiper.prototype.swiperWrapper=function(){this.play(!0),this.animateEnd()},JDSwiper.prototype.touch=function(){var n=this;this.wrapper.addEventListener("touchstart",function(t){clearInterval(n.timer),n.startX=t.changedTouches[0].pageX,n.startTime=t.timeStamp,console.log(t.changedTouches[0])}),this.wrapper.addEventListener("touchmove",function(t){var i=t.changedTouches[0].pageX,e=n.startX-i,s=n.imgs[n.loop].offsetLeft;this.style.transition="",this.style.transform="translate3d("+-(e+s)+"px,0,0)"}),this.wrapper.addEventListener("touchend",function(t){n.autoplay(),n.endX=t.changedTouches[0].pageX,n.endTime=t.timeStamp;var i=n.endX-n.startX;100<=Math.abs(i)||n.endTime-n.startTime<100?(0<i?(n.loop--,n.play(!0),n.num--):(n.loop++,n.play(!0),n.num++),n.pagesPoint()):Math.abs(i)<100&&n.play(!0)})};