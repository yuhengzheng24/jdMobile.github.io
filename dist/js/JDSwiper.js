var timer=null,num=0,loop=1,sloganNumber=0,wrapper=document.querySelector(".swiper-wrapper"),imgs=wrapper.children,oImgsLength=imgs.length,oPages=document.querySelector(".swiper-container .pages"),slogan=document.querySelector(".slogan"),sloganSpan=slogan.children,sloganLength=sloganSpan.length;function initImgs(){var e=imgs[0].cloneNode(!0),n=imgs[oImgsLength-1].cloneNode(!0);wrapper.appendChild(e),wrapper.insertBefore(n,imgs[0])}function initPoints(){for(var e=0;e<oImgsLength;e++){var n=document.createElement("span");0==e&&(n.className="active"),oPages.appendChild(n)}}initImgs(),initPoints();var startTime,endTime,startX,endX,pages=document.querySelectorAll(".swiper-container .pages span");function autoplay(){timer=setInterval(function(){loop++,num++,sloganNumber++,pagesPoint(),swiperWrapper(),sloganMove()},2e3)}function pagesPoint(){num=(num+pages.length)%pages.length;for(var e=0;e<pages.length;e++)pages[e].className="";pages[num].className="active"}function play(e){wrapper.style.transition=e?"transform 0.5s":"",wrapper.style.transform="translate3d("+100*-loop+"%,0,0)"}function animateEnd(){wrapper.addEventListener("transitionend",function(){oImgsLength<loop&&(loop=1,play()),loop<1&&(loop=oImgsLength,play())},!1)}function swiperWrapper(){play(!0),animateEnd()}autoplay(),wrapper.addEventListener("touchstart",function(e){clearInterval(timer),startX=e.changedTouches[0].pageX,startTime=e.timeStamp}),wrapper.addEventListener("touchmove",function(e){var n=e.changedTouches[0].pageX,a=startX-n,t=this.children[loop].offsetLeft;this.style.transition="",this.style.transform="translate3d("+-(a+t)+"px,0,0)"}),wrapper.addEventListener("touchend",function(e){autoplay(),endX=e.changedTouches[0].pageX,endTime=e.timeStamp;var n=endX-startX;100<=Math.abs(n)||endTime-startTime<100?(0<n?(loop--,play(!0),num--):(loop++,play(!0),num++),pagesPoint()):Math.abs(n)<100&&play(!0)});